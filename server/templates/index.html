{% extends "base.html" %}

    {% block extra_head %}
    <style type="text/css">
    .example img { float:left; margin-right: 5px; }
    .example .url { font-weight: bold; }
    </style>
    {% end %}

{% block main %}

      {% if yours %}
      <h2>Your uploads</h2>
      {% else %}
        {% if show_hero_unit %}
        <div class="hero-unit">
          <h1>{{ PROJECT_TITLE }}</h1>
          <p>When you want to upload HUGE pictures that you can zoom in on like a map.</p>
          <p><a href="{{ reverse_url('upload') }}" class="btn btn-primary btn-large">Get started &raquo;</a></p>
        </div>
        {% end %}
      {% end %}

      {% for i, images in enumerate(recent_images_rows) %}
      <div class="row">
        {% for j, image in enumerate(images) %}
        <div class="span4 example">
          {% if image.get('title') %}
          <h3>{% module Truncate(image['title'], 20) %}</h3>
          {% else %}
          <h3>Example {{ (i * 3) + (j + 1) }}</h3>
          {% end %}
	  <a href="{{ reverse_url('image', image['fileid']) }}"
          ><img class="thumbnail img-polaroid" src="{% module ThumbnailURL(image['fileid'], 100, 'png') %}" alt="Screenshot"></a>
          <p>
            {% module ShowFileSize(image['size']) %} &ndash;
            {% if image.get('width') and image.get('height') %}
            {% module Thousands(image['width']) %} &times; {% module Thousands(image['height']) %}<br>
            {% end %}
            uploaded {% module TimeSince(image['date']) %} ago<br>
            {% if image['hits'] %}
            {% module Thousands(image['hits']) %} hits
              {% if image['hits_this_month'] and image['hits_this_month'] != image['hits'] %}
              ({% module Thousands(image['hits_this_month']) %} this month)
              {% end %}
            <br>
            {% end %}
            <a class="url" href="{{ reverse_url('image', image['fileid']) }}">Check it out &raquo;</a>
          </p>
        </div>
	{% end %}
      </div>
      {% end %}

      {% if pagination %}
      <div class="pagination pagination-centered">
        <ul>
          <li{% if not pagination.get('prev') %} class="disabled"{% end %}><a href="?page={{ pagination.get('prev', pagination['current_page']) }}">Prev</a></li>
          {% for page in pagination['range'] %}
          <li{% if page == pagination['current_page'] %} class="active"{% end %}><a href="?page={{ page }}">{{ page }}</a>
          {% end %}
          <li{% if not pagination.get('next') %} class="disabled"{% end %}><a href="?page={{ pagination.get('next', pagination['current_page']) }}">Next</a></li>
        </ul>
      </div>
      {% end %}


{% end %}
